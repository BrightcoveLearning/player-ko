---
title: 외부 비디오를 사용하는 AMP
parent: amp
description: In this topic, you will learn how Accelerated Mobile Pages (AMP) can be used with Brightcove Player and an external, non-Video Cloud video. ---
<article class="bcls-article">
    <h1>외부 비디오를 사용하는 AMP</h1>
    <summary>{{ page.description }}</summary>
    <section class="bcls-section">
        <aside class="bcls-aside bcls-aside--warning">이 문서는 AMP와 Brightcove Player 및 Video Cloud로 수집되지 않은 비디오를 사용합니다. Video Cloud 고객인 경우 다음을 참조하십시오. <a href="/playback/amp-using-video-cloud-video.html">비디오 클라우드 비디오를 사용하는 AMP</a> .</aside>
        <h2 id="Overview">개요</h2>
        <p>Accelerated Mobile Pages는 “기기 및 배포 플랫폼 전반에서 일관되게 빠르고 아름답고 성능이 뛰어난 웹 사이트 및 광고를 만드는 것을 목표로하는 Google 프로젝트입니다.“ 프로젝트에 게시자가 AMP HTML 문서에 브라이트코브 플레이어를 포함할 수 있는<code translate="No">amp-brightcove</code>구성 요소가 포함되어 있으므로 AMP와 함께 브라이트코브 플레이어를 사용할 수 있습니다. 이 예제는<code translate="No">amp-brightcove</code>사용자 정의를 사용하는 구성 요소<code translate="No">data-param-video-url</code>속성.</p>
    </section>
    <section class="bcls-section">
        <h2 id="Sample">샘플</h2>
        <p>다음은 브라이트코브 플레이어가 포함된 샘플 AMP HTML 페이지입니다. 플레이어가 정상적으로 작동하므로 HTML이 이 샘플에서 흥미로운 부분입니다. HTML 코드는 이 문서의 뒷부분에서 검토됩니다.</p>
        <p data-height="416" data-theme-id="dark" data-slug-hash="XZGQza" data-default-tab="html,result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="AMP-Brightcove Player-External Video" class="codepen">펜보기<a href="https://codepen.io/team/rcrooks1969/pen/XZGQza/"> AMP-Brightcove 플레이어-외부 비디오</a>게시자 : Brightcove Learning Services ( <a href="https://codepen.io/rcrooks1969">뿡 빵뀨</a> ) 의 위에<a href="https://codepen.io"> CodePen</a> .</p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
        <aside class="bcls-aside bcls-aside--warning">AMP의 작동 방식 때문에 사용하기 전에 제한 사항을 신중하게 고려해야 합니다. 예를 들면 다음과 같습니다.
            <ul>
                <li>AMP는 페이지에서 HTML을 사용할 수 있는 것과 사용할 수 없는 것에 대해 매우 엄격한 규칙을 가지고 있습니다. 자세한 내용은<a href="https://www.ampproject.org/docs/reference/spec"> AMP HTML 사양에서 확인할 수</a>있습니다.</li>
                <li>브라이트코브 애널리틱스가 AMP 페이지에 대한 참조 페이지를 올바르게 보고하지 않습니다. 대신<code translate="No">referrer_domain</code>가 비어 있고 다음과 같이<code translate="No">source_type</code>기록됩니다. <code translate="No">direct</code> .</li>
                <li>Brightcove Player의 고급 페이지 구현에 사용되는 모든 속성이<code translate="No">amp-brightcove</code> .</li>
                <li>AMP는 도메인 제한 플레이어에서는 작동하지 않습니다.</li>
            </ul>
        </aside>
    </section>
    <section class="bcls-section">
        <h2 id="Resources_from_AMP">AMP의 리소스</h2>
        <p>AMP 프로젝트는 브라이트코브 플레이어를 표시하는 특수<code translate="No">amp-brightcove</code>구성 요소를 개발했습니다. 구성 요소는<a href="https://www.ampproject.org/docs/reference/components/amp-brightcove"> amp-브라이트코브 문서에 자세히 설명되어 있습니다.</a></p>
        <p>AMP는 다음 문서에 세부 정보가 포함된<code translate="No">amp-brightcove</code>구현 예제를 제공합니다.</p>
        <ul>
            <li><a href="https://ampbyexample.com/components/amp-brightcove/">amp-brightcove</a></li>
            <li><a href="https://github.com/ampproject/amp-by-example/blob/master/src/20_Components/amp-brightcove.html">앰프별 예제</a></li>
            <li><a href="https://ampbyexample.com/playground/#url=https%3A%2F%2Fampbyexample.com%2Fcomponents%2Famp-brightcove%2Fsource%2F">AMP 플레이 그라운드</a></li>
        </ul>
    </section>
    <section class="bcls-section">
        <h2 id="Player_configuration">플레이어 구성</h2>
        <p>Brightcove는 Brightcove Player와 함께 AMP 사용을 향상시키는 플러그인을 제공합니다. 플러그인은 일부 고급 기능을 활성화하는 AMP의 비디오 인터페이스 API에 대한 지원을 추가합니다.</p>
        <ul>
            <li><strong>amp-분석과의 통합</strong> : AMP 페이지 도메인에 대해 타사 분석에 대한 보기를 추적할 수 있습니다.</li>
            <li><strong>amp-bind와의 통합</strong> : AMP 페이지의 다른 요소로 재생을 제어할 수 있습니다.</li>
        </ul>
        <p>플러그인이없는 플레이어는 여전히 AMP에서 작동하지만 해당 기능은 없습니다.</p>
        <h3><strong>플러그인 설치</strong></h3>
        <aside class="bcls-aside bcls-aside--warning">플러그인을 설치해야 합니다. 과거에는 AMP가 플러그인을 추가하지 않고 작동했습니다. 더 이상 사실이 아닙니다.</aside>
        <p>모든 브라이트코브 플레이어 플러그인과 마찬가지로 플러그인의 JavaScript에 대한 플러그인의 이름과 URL이 필요합니다. 이 URL은 여기에 제공됩니다 (이 플러그인을 사용하기 위해 CSS 파일은 필요하지 않습니다).</p>
        <h4>플러그인 이름</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">ampSupport</code></pre>
        <h4>자바스크립트 URL</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code></pre>
    </section>
    <section class="bcls-section">
        <h2 id="HTML_page_code_examination">HTML 페이지 코드 검사</h2>
        <p>위 CodePen 샘플의 HTML 페이지 코드는 다음과 같습니다 (플러그인 코드는 다음 섹션에서 자세히 설명). 코드에 대한 완전한 설명은 AMP에서 위에 링크된 문서에 나와 있습니다. 다음 목록에는 알아야 할 몇 가지 트릭/함정이 있습니다.</p>
        <ul>
            <li>14번 호선: 단일<code translate="No">style</code>태그를 추가할 수 있지만<code translate="No">amp-custom</code>속성을 포함해야 합니다.</li>
            <li>26 행 : 코드를 아름답게 하지 마십시오. AMP에서 제공하는 상용구 CSS가 필요합니다.</li>
            <li>42호선: 외부 비디오에 대한 URL이 여기에 전달됩니다. 이름은 iframe의<code translate="No">src</code> URL, 이름은<code translate="No">videoUrl</code> .</li>
            <li>43번 라인: 그만큼<code translate="No">data-video-id</code>존재해야하지만 외부 비디오를 사용할 때 값이 할당되지 않았습니다.</li>
            <li>44행: <code translate="No">width</code>및<code translate="No">height</code>속성은 반응형 레이아웃에 포함된 플레이어의 종횡비를 결정합니다.</li>
        </ul>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">&lt;!--
    ## Introduction
  
    The `amp-brightcove` component allows embedding a Brightcove
    [Video Cloud](https://www.brightcove.com/en/online-video-platform) or
    [Perform](https://www.brightcove.com/en/perform) player.
  --&gt;
  &lt;!-- --&gt;
  &lt;!doctype html&gt;
  &lt;html ⚡&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;amp-brightcove&lt;/title&gt;
    &lt;style amp-custom&gt;
      .player-container {
        width: 640px;
        height: 360px;
      }
    &lt;/style&gt;
    &lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;
    &lt;!-- ## Setup --&gt;
    &lt;!-- Import the Brightcove component in the header. --&gt;
    &lt;script async custom-element="amp-brightcove" src="https://cdn.ampproject.org/v0/amp-brightcove-0.1.js"&gt;&lt;/script&gt;
    &lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;
    &lt;link rel="canonical" href="https://ampbyexample.com/components/amp-brightcove/"&gt;
    &lt;style amp-boilerplate&gt;body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}&lt;/style&gt;&lt;noscript&gt;&lt;style amp-boilerplate&gt;body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}&lt;/style&gt;&lt;/noscript&gt;
  
  
  &lt;/head&gt;
  &lt;body&gt;
  
    &lt;!-- ## Basic Usage --&gt;
    &lt;!--
      A responsive brightcove video. The required data is `data-account` and `data-video-id`. Other
      supported parameters are `data-player-id`, `data-embed` and `data-playlist-id`.
    --&gt;
    &lt;div class="player-container"&gt;
      &lt;amp-brightcove
        data-account="3676484087001"
        data-player-id="ByrhJWAPf"
        layout="responsive"
        data-param-video-url="//solutions.brightcove.com/bcls/videos/calm-day-oregon-coast.mp4"
        data-video-id
        width="16" height="9"&gt;
      &lt;/amp-brightcove&gt;
    &lt;/div&gt;
  
  
  &lt;/body&gt;
  &lt;/html&gt;</code></pre>
    </section>
    <section class="bcls-section">
        <h2 id="Plugin_code_examination">플러그인 코드 검사</h2>
        <p>AMP가 작동하는 방식은<code translate="No">amp-brightcove</code>구성 요소는 Brightcove Player의 iframe 구현을 만듭니다. iframe의 URL에는 다음과 같이 맞춤 속성이 있습니다.</p>
        <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;iframe frameborder="0" allowfullscreen="true" src="https://players.brightcove.net/3676484087001/ByrhJWAPf_default/index.html?<span class="bcls-highlight">videoUrl=%2F%2Fsolutions.brightcove.com%2Fbcls%2Fvideos%2Fcalm-day-oregon-coast.mp4"</span>; class="i-amphtml-fill-content" kwframeid="1"&gt;&lt;/iframe&gt;</code></pre>
        <p>iframe 코드에서 스크롤하면 다음과 같은 쿼리 문자열이 표시됩니다.</p>
        <figure class="bcls-figure"><img class="bcls-image" alt="AMP iframe source" src="/assets/images/amp/amp-external-amp-url.png" /></figure>
        <p>쿼리 문자열 이름은<code translate="No">videoUrl</code> . 또한 URL은 URL로 인코딩되었습니다. 이 두 가지 문제는 다음과 같이 플러그인 코드에 반영됩니다.</p>
        <ul>
            <li>21-38 행 : 매개 변수로 함수에 전달 된 쿼리 문자열과 관련된 값을 찾는 도우미 함수입니다.</li>
            <li>7번 라인: 값을 검색합니다. <code translate="No">videoUrl</code>도우미 함수를 사용하는 쿼리 문자열.</li>
            <li>8호선: 자바 스크립트 사용<code translate="No">decodeURIComponent()</code>동영상의 유효한 URL을 가져 오는 방법입니다.</li>
            <li>11 ~ 14 행 : 디코딩 된 URL을 사용하고 비디오를 플레이어에 배치합니다. MP4 이외의 비디오 형식을 사용하려는 경우 올바른 형식을 전달해야합니다. <code translate="No">type</code>값을 입력하거나 논리를 작성하여 동영상의 확장자를 읽고 올바른 값을 할당합니다.</li>
            <li>17-19번 라인: 물론 필수는 아니지만 시작시 비디오를 재생하려면이 코드를 사용할 수 있습니다.</li>
        </ul>
        <pre class="line-numbers">
  <code class="language-javascript" translate="No">videojs.registerPlugin('ampPassVideo', function() {
    var myPlayer = this,
      encodedVideoQueryParam,
      decodedVideoQueryParam;
  
    // Get the query string and un-URL encode it
    encodedVideoQueryParam = getQuerystring('videoUrl');
    decodedVideoQueryParam = decodeURIComponent(encodedVideoQueryParam);
  
    // Load the video into the player
    myPlayer.src({
      'type': 'video/mp4',
      'src': decodedVideoQueryParam
    });
  
    // On loadedmetadata event, play the video
    myPlayer.on('loadedmetadata', function(){
      myPlayer.play();
    });
  
    /*
     * usage: foo = getQuerystring("bctid", null);
     * foo will be equal to value of query param bctid
     * note that the default_ parameter is what you will get back
     * if the key isn’t found
     */
    function getQuerystring(key, default_) {
      var regex, qs;
      if (default_ == null) default_ = "";
      key = key.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
      regex = new RegExp("[\\?&amp;]" + key + "=([^&amp;#]*)");
      qs = regex.exec(window.location.href);
      if (qs === null) {
        return default_;
      } else {
        return qs[1];
      }
    }
  });</code></pre>
        <p>이 플러그인을 플레이어에 할당하려면<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">사진관</a>또는 플레이어 관리 API.</p>
    </section>
    <section class="bcls-section">
        <h2 id="Features">특징</h2>
        <p>AMP 설명서에 설명되어 있지만 여기에서 특별히 중요한 몇 가지 기능이 강조되어 있습니다.</p>
        <!-- These are features that are common to both Video Cloud and external videos -->
        <!-- THIS SECTION CAN BE ADDED TO THEN COPIED TO SIMILAR SECTION IN Video Cloud VIDEO FEATURES SECTION -->

        <h3>사용자 지정 매개변수</h3>
        <p>플러그인에 액세스하기 위해 추가 정보를 플레이어에게 전달해야 할 수도 있습니다. 추가 속성을 추가하여 이 작업을 수행할 수 있습니다. <code translate="No">amp-brightcove</code>이름을 지정해야 하는 요소<code translate="No">data-param-*</code> , 어디<code translate="No">*</code>귀하의 재산의 이름입니다.</p>
        <p>파라미터는 플레이어 URL에 추가된 camel cased 어트리뷰트 이름으로 전달됩니다. 키와 값은 URL로 인코딩됩니다. 예를 들면 다음과 같습니다.</p>
        <ul>
            <li><code translate="No">data-param-language="de"</code>된다<code translate="No">&amp;language=de</code></li>
            <li><code translate="No">data-param-ad-vars="key:val;key2:val2"</code>된다<code translate="No">&amp;adVars=key%3Aval%3Bkey2%3Aval2</code></li>
        </ul>
        <h3>외부 레퍼러 지원</h3>
        <p>브라이트코브 플레이어 v6.25.0+는 iframe에 임의의 레퍼러 설정을 지원합니다. AMP 컴포넌트는 이제 앰프브라이트코브 임베드<code translate="No">referrer="EXTERNAL_REFERRER"</code>어트리뷰트를 추가하여 자체 레퍼러를 플레이어로 전달하는 것을 지원합니다.</p>
        <p>EXTERNAL_REFERRER는 AMP의 자체 매크로입니다. 참조<a href="https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer"> https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer</a>자세한 내용은</p>
        <h3>AMP 분석</h3>
        <p><strong>AMP 문서에서 amp-analytics</strong>컴포넌트를 사용하여 임의의 분석에 대한 데이터를 추적할 수 있습니다. 게시자가 비디오 이벤트를 포함하려는 경우 이제 그렇게 할 수 있습니다.</p>
        <p>AMP 애널리틱스 구문에 대한 AMP의 문서 (번거롭다) 는<a href="https://www.ampproject.org/docs/reference/components/amp-analytics"> https://www.ampproject.org/docs/reference/components/amp-analytics 입니다</a> . 특히 비디오 분석: <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md"> https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md</a> .</p>
        <p>다음으로 추적하는 예를 사용할 수 있습니다. <strong> example.com</strong>따라서 네트워크 탭에서 비콘을 오류로 볼 수 있습니다. <a href="http://solutions.brightcove.com/bclifford/ampexamples/analytics.html"> http://solutions.brightcove.com/bcliford/ampexamples/analytics.html</a> .</p>
        <h3>AMP 바인딩</h3>
        <p>AMP 바인드는 컴포넌트 간의 상호 작용을 위한 AMP의 API입니다. 기본 레벨에서는 플레이어 외부에 있는 무언가를 사용하여 재생을 제어할 수 있습니다. 예를 들어 다음 코드는 비디오를 재생합니다. 여기서<code translate="No">myPlayer</code>는<code translate="No">id</code> amp-브라이트코브 플레이어의 입니다.</p>
        <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;button on="tap:myPlayer.play"&gt;Play&lt;/button&gt;</code></pre>
        <p>AMP는 동영상 이벤트를 신뢰하지 않으므로 현재 동영상 종료에서 행동하는 것과 같이 더 유용한 작업을 수행할 수 없습니다. 이 예제는 여기에서 확인할 수 있습니다: <a href="http://solutions.brightcove.com/bclifford/ampexamples/bind.html"> http://solutions.brightcove.com/bclifford/ampexamples/bind.html</a> .</p>
    </section>
</article>
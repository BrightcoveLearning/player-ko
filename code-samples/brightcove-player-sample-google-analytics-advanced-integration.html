---
title: '브라이트코브 플레이어 샘플: 구글 애널리틱스 고급 통합'
description: '이 주제에서는 Brightcove 플레이어를 사용할 때 런타임에 Google Analytics 추적 ID를 동적으로 설정하는 방법을 배웁니다. '
parent: Code Samples
---
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Player_example">플레이어 예제</h2>
<!-- UPDATE description -->

<aside class="bcls-aside bcls-aside--information">이 예제 및 관련 코드는 프로덕션 개발을 위한 가이드로 제공됩니다. 이 코드는 프로덕션 용도로 인증되지 않았으며 공식적으로 지원되지 않습니다.</aside>

<p>이 예에서는 Brightcove 플레이어를 사용하고 프로그래밍 방식으로 Google Analytics를 추가하여 런타임에 추적 ID를 동적으로 할당합니다. 이 접근 방식은 여러 GA 계정이 있지만 각각에 대해 고유 한 플레이어를 원하지 않는 경우에 유용합니다.</p>
<p>
   GA를 동적으로 추가 할 때 Video Cloud Studio에 Google Analytics 플러그인을 추가하지 않습니다. Studio에서 구성하면 플레이어로드시 초기화되며 설정을 변경하기에는 너무 늦습니다 (재정의 할 수 없음).
</p>
<p>
이 접근 방식의 또 다른 이점은 API 통합이 GA 계정에 필드를 생성하지 않는다는 것입니다 (Google에서는 기존 필드의 이름을 변경할 수 없음).
</p>
<p>
  교체 할 때<code translate="No">tracker</code>이 예에서 고유 한 Google 애널리틱스 추적 ID를 사용하면 Google 애널리틱스 페이지에 측정 항목이 표시됩니다.
</p>
<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Google Analytics home page" src="/assets/images/code-samples/brightcove-player-sample-google-analytics-advanced-integration/ga-home.png" />
  <figcaption class="bcls-caption--image">Google Analytics 홈페이지</figcaption>
</figure>

<!-- UPDATE codepen here -->
<p class="codepen" data-height="465" data-theme-id="34967" data-default-tab="result" data-user="bcls1969" data-slug-hash="wvaQwRy" style="height: 465px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Google Analytics Advanced Integration">
  <span>펜보기<a href="https://codepen.io/team/bcls1969/pen/wvaQwRy"> Google Analytics 고급 통합</a>게시자 : Brightcove Learning Services ( <a href="https://codepen.io/team/rcrooks1969">쫑끼리</a> ) 의 위에<a href="https://codepen.io"> CodePen</a> .</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<br/>

<h3>소스 코드</h3>
<!-- UPDATE link to GitHub source -->
<p>
  다음을 선택하여 소스 코드를 볼 수 있습니다. <strong> HTML</strong> , <strong> CSS</strong>과<strong> JS</strong>위의 CodePen에서 버튼을 누르거나<a href="https://github.com/BrightcoveLearning/google-analytics-advanced-integration"> GitHub의 완벽한 솔루션</a> . 
</p>
</section>

<section class="bcls-section">
<h2 id="Using_the_CodePen" class="bcls-expander-head">코드펜 사용하기</h2>

<div class="bcls-expander-content">
<p>위의 CodePen을 효과적으로 사용하기 위한 몇 가지 팁은 다음과 같습니다.</p>

<ul>
	<li><strong>결과</strong>버튼을 클릭하여 플레이어의 실제 표시를 토글합니다.</li>
	<li><strong>HTML/CSS/JS</strong>버튼을 클릭하여 코드 유형 중 하나를 표시합니다.</li>
	<li>이 문서의 뒷부분에서 응용 프로그램에서 사용되는 로직, 흐름 및 스타일링은<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , 응용<a href="#Applicaton_flow">프로그램 흐름</a>및<a href="#Application_styling">응용 프로그램 스타일링에서 설명합니다.</a>섹션. 이러한 섹션의 정보와 함께 수행하는 가장 좋은 방법은 다음과 같습니다.
	<ol>
		<li>CodePen에서 CODEPEN에 있는<strong>편집</strong>버튼을 클릭하고 하나의 브라우저/브라우저 탭에서 코드를 사용할 수 있도록 합니다.</li>
		<li>CodePen에서 표시할 코드를 조정합니다. CodePen 내에서 서로 다른 코드 섹션의 너비를 변경할 수 있습니다.</li>
		<li>보기<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , <a href="#Applicaton_flow">신청 흐름</a>및/또는<a href="#Application_styling">애플리케이션 스타일링</a>다른 브라우저/브라우저 탭의 섹션. 이제 코드 설명을 따르고 동시에 코드를 볼 수 있습니다.</li>
	</ol>
	</li>
</ul>
</div>
</section>

<section class="bcls-section">
<h2 id="developmentsequence" class="bcls-expander-head">개발 시퀀스</h2>

<div class="bcls-expander-content">
<p>권장되는 개발 시퀀스는 다음과 같습니다.</p>

<ol>
	<li>인페이지 임베드 플레이어 구현을 사용하여 플레이어, 플러그인 및 CSS의 기능을 테스트합니다 (CSS가 필요한 경우)</li>
	<li>로컬 테스트를 위해 플러그인의 JavaScript와 CSS를 별도의 파일에 넣습니다.</li>
	<li>오류가 발생하면 플러그인 코드와 CSS를 서버에 배포합니다.</li>
	<li>Studio를 사용하여 플레이어에 플러그인과 CSS를 추가합니다.</li>
	<li>iframe 구현이 더 적합하다고 판단되면 인페이지 임베드 플레이어 구현을 대체합니다 (다음 섹션에서 자세히 설명).</li>
</ol>

<p>이 단계에 대한 자세한 내용은<a href="https://player.support.brightcove.com/coding-topics/step-step-plugin-development.html">단계별 을 참조하십시오. 플러그인 개발</a>가이드.</p>

<h3>iframe 또는 인페이지 임베드</h3>

<p>Brightcove 플레이어에 대한 개선 사항을 개발할 때 코드가 iframe 또는 인 페이지 포함 구현에 가장 적합한 지 결정해야합니다. 모범 사례는 iframe 구현과 함께 사용할 플러그인을 빌드하는 것입니다. iframe 플레이어를 사용하면 다음과 같은 이점이 있습니다.</p>

<ul>
	<li>기존 자바스크립트 및/또는 CSS와의 충돌 없음</li>
	<li>자동 반응성</li>
	<li>iframe은 소셜 미디어 앱에서 쉽게 사용할 수 있습니다 (또는 동영상이 다른 앱으로 “여행”해야 할 때마다)</li>
</ul>

<p>In-Page 임베드 플레이어를 통합하는 것은 더 복잡할 수 있지만, 해당 구현을 중심으로 코드를 계획할 때가 있습니다. 일반화하려면 이 방법은 포함 페이지가 플레이어와 통신해야 할 때 가장 좋습니다. 구체적으로 다음과 같은 몇 가지 예가 있습니다.</p>

<ul>
	<li>포함 페이지의 코드는 플레이어 이벤트를 수신하고 행동해야 합니다.</li>
	<li>플레이어는 포함 페이지의 스타일을 사용합니다.</li>
	<li>iframe은 포함 페이지에서 리디렉션하는 것처럼 앱 로직이 실패합니다.</li>
</ul>

<p>최종 구현에서 iframe 코드를 사용하지 않더라도 JavaScript용 플러그인과 CSS용 별도의 파일과 함께 인페이지 포함 코드를 사용할 수 있습니다. 이렇게 하면 로직을 캡슐화하여 여러 플레이어에서 쉽게 사용할 수 있습니다.</p>
</div>
<!-- id="expanderContent" --></section>

<section class="bcls-section">
<h2 id="API/Plugin_resources_used">사용된 API/플러그인 리소스</h2>
<!-- UPDATE table, remove unneeded columns -->

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>API 메서드</th>
			<th>API 이벤트</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://player.support.brightcove.com/plugins/plugin-registry.html">bcGa ()</a></td>
      <td>&nbsp;</td>
		</tr>
	</tbody>
</table>
</section>
<!-- UPDATE player and HTML configuration -->

<section class="bcls-section">
<h2 id="Player/HTML_configuration">플레이어/HTML 구성</h2>

<p>이 섹션에서는 플레이어 생성 중에 필요한 특별한 구성에 대해 자세히 설명합니다. 또한 페이지 내 임베드 플레이어 구현 코드 외에 페이지에 추가해야 하는 다른 HTML 요소에 대해서도 설명합니다.</p>

<h3>플레이어 구성</h3>
<p>
  이 예에서는 Brightcove Player가 사용됩니다.
</p>
<ol class="bcls-tasklist-restart">
	<li>비디오 클라우드 스튜디오에서<strong>플레이어</strong>모듈로 이동합니다. 새 플레이어를 만듭니다.</li>
  <li>
    <p>왼쪽 탐색에서<strong>타사 분석</strong> . 에 대한<strong> GoogleAnalytics</strong>선택권, <strong>하지 마라</strong>고르다<strong> Google Analytics 활성화</strong> . 이 옵션은 선택하지 않은 상태로 두십시오. </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Google Analytics in Studio" src="/assets/images/code-samples/brightcove-player-sample-google-analytics-advanced-integration/enable-ga.png" />
    	<figcaption class="bcls-caption--image">Studio의 Google Analytics</figcaption>
    </figure>
  </li>
</ol>

<h3 id="Other_HTML">기타 HTML</h3>
<p>
  Brightcove Player 소스 코드 뒤에 스크립트가 추가되었습니다.
</p>
<ol class="bcls-tasklist-restart">
	<li>
    <p>
      플레이어 포함 코드 뒤에 Brightcove Google Analytics 플러그인에 대한 다음 스크립트를 추가합니다. 플러그인을 Video Cloud Studio에서 구성하는 대신 수동으로로드합니다.
    </p>
    <pre>
    <code class="language-javascript" translate="No">&lt;script src=&quot;//players.brightcove.net/videojs-bc-ga/1/videojs-bc-ga.min.js&quot;&gt;&lt;/script&gt;</code></pre>
  </li>
</ol>
</section>
<!-- UPDATE application flow -->

<section class="bcls-section">
<h2 id="Application_flow">애플리케이션 흐름</h2>

<p>이 응용 프로그램의 기본 로직은 다음과 같습니다.</p>

<ul>
	<li>Google Analytics 플러그인을 구성하지 않고 Brightcove Player 만들기</li>
	<li>수동으로 Google Analytics 플러그인로드</li>
  <li>추적하려는 매개 변수 및 이벤트를 포함하여 플러그인에 대한 옵션을 정의합니다.</li>
  <li>추적 ID 설정</li>
  <li>비디오 재생</li>
</ul>
<!-- UPDATE task 1 -->
<ol class="bcls-tasklist-restart">
	<li>
    <h4>플레이어 만들기</h4>
    <p>
      이미 그렇게했다면<a href="#Player/HTML_configuration">플레이어 / HTML 구성</a> Studio에서 플레이어를 만들려면 위 섹션을 참조하세요.
    </p>
  </li>
  <li>
    <h4>
      플러그인로드
    </h4>
    <p>
      참조<a href="#Other_HTML">기타 HTML</a> Google 애널리틱스 플러그인 스크립트를 추가하려면 위 섹션을 참조하세요.
    </p>
  </li>
  <li>
    <h4>
      플러그인 옵션 정의
    </h4>
    <p>
      에서<strong> JS</strong> CodePen 섹션에서 레이블이있는 코드를 찾습니다.
    </p>
    <pre>
    <code class="language-javascript" translate="No">// Set up the Google Analytics plugin options</code></pre>
    <p>
      플레이어는<a href="https://player.support.brightcove.com/plugins/plugin-registry.html"> bcGa () 메서드</a>플러그인을 초기화합니다. 추적하려는 매개 변수와 이벤트를 설정할 수 있습니다.
    </p>
<pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.bcGa({
  &quot;paramsToTrack&quot;: {
    &quot;bcvideo_video_seconds_viewed&quot;: &quot;dimension7&quot;,
    &quot;bcvideo_range&quot;: &quot;dimension8&quot;,
    &quot;bcvideo_video_duration&quot;: &quot;dimension9&quot;,
    &quot;bcvideo_player&quot;: &quot;dimension10&quot;,
    &quot;bcvideo_account&quot;: &quot;dimension11&quot;,
    &quot;bcvideo_session&quot;: &quot;dimension12&quot;,
    &quot;bcvideo_platform_version&quot;: &quot;dimension13&quot;
  },
  &quot;eventsToTrack&quot;: {
    &quot;video_impression&quot;: &quot;Video Impression&quot;,
    &quot;play_request&quot;: &quot;Play Request&quot;,
    &quot;video_engagement&quot;: &quot;Video Engagement&quot;,
    &quot;ad_start&quot;: &quot;Ad Start&quot;,
    &quot;ad_end&quot;: &quot;Ad End&quot;,
    &quot;player_load&quot;: &quot;Player Load&quot;,
    &quot;error&quot;: &quot;Error&quot;
  },
  &quot;tracker&quot;: &quot;UA-150904906-1&quot;
})
/*
	Two extra events can be added:
		video_view
		video_complete
*/</code></pre>
<p>
  이벤트 및 차원에 대한 자세한 내용은<a href="https://studio.support.brightcove.com/players/configuring-google-analytics-event-tracking.html#events"> Google Analytics 이벤트 추적 구성</a>문서.
</p>
  </li>
  <li>
    <h4>
      추적 ID 설정
    </h4>
    <p>
      위의 JavaScript 코드에서<code translate="No">tracker</code> Google 웹 로그 분석 추적 ID로 가치.
    </p>
    <pre>
    <code class="language-javascript" translate="No">&quot;tracker&quot;: &quot;<span class="bcls-input">your tracking id</span>&quot;</code></pre>
  </li>
  <li>
    <p>
      웹 페이지에 HTML 및 JavaScript 코드를 입력하고 비디오를 재생하십시오. 당신은 당신의
    </p>
  </li>
</ol>

</section>
<!-- UPDATE CSS description -->

<!-- <section class="bcls-section">
<h2 id="Application_styling">Application styling</h2>

<p>The CSS positions the player to cover the entire background of the web page. It also positions and styles the text block which sits on top of the player.</p>
</section> -->

<section class="bcls-section">
<h2 id="Plugin_code">플러그인 코드</h2>

<p>일반적으로 JavaScript를 브라이트코브 플레이어 플러그인으로 변환할 때는 명목상 변경이 한 가지 필수 변경 사항은<code translate="No">ready()</code>메서드의 표준 사용을 플러그인을 정의하는 코드로 대체하는 것입니다.</p>

<p>다음은 플레이어와 함께 작동하는 JavaScript 코드에 매우 일반적으로 사용되는 시작입니다.</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>

<p>표준 구문을 사용하여 브라이트코브 플레이어 플러그인을 시작하도록 첫 번째 줄을 변경합니다.</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
<!-- UPDATE path to plugin's JavaScript -->

<p>앞서 언급했듯이이 문서의 해당 GitHub 저장소에서 플러그인의 JavaScript 코드를 볼 수 있습니다. <a href="https://github.com/BrightcoveLearning/google-analytics-advanced-integration/blob/master/plugin/advanced-ga.js"> advanced-ga.js</a> .</p>

<h3>플레이어와 함께 플러그인 사용하기</h3>

<p>플러그인의 CSS 및 JavaScript 파일을 인터넷에 액세스할 수 있는 위치에 저장하면 플레이어와 함께 플러그인을 사용할 수 있습니다. 스튜디오의<strong> PLAYERS</strong>모듈에서 플레이어를 선택한 다음<strong>플러그인</strong>섹션에서 CSS 및 JavaScript 파일에 URL을 추가하고<strong>이름을 추가 할 수 있습니다.</strong>및<strong>옵션</strong> (옵션이 필요한 경우).</p>

<aside class="bcls-aside bcls-aside--tip">Studio를 사용하여 플레이어에게 플러그인을 할당하는 방법에 대한 자세한 내용은 플레이어 플러그인<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">구성</a>문서를 참조하십시오.</aside>
</section>
</article>
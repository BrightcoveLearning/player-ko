
---
title: '브라이트코브 플레이어 샘플: 오디오 플러그인 다운로드'
description: '이 주제에서는 Brightcove Player에서 재생되는 오디오 자산의 최고 품질 MP4를 다운로드할 수 있는 링크를 만드는 방법을 배웁니다. 코드는 작성되고 설명되며, 나중에 다른 플레이어와 쉽게 사용할 수 있도록 플러그인으로 변환됩니다.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <aside class="bcls-aside bcls-aside--information">이 문서의 콘텐츠는 Video Cloud에만 적용됩니다. 또한 iOS 장치에는 사용자가 액세스 할 수있는 파일 시스템이 없으므로 iOS 장치에서는 플러그인이 작동하지 않습니다.</aside>
  <section class="bcls-section">
    <h2 id="Player_example">플레이어 예제</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">이 샘플 및 관련 코드는 프로덕션 개발을 위한 가이드로 제공됩니다. 이 코드는 프로덕션 용도로 인증되지 않았으며 공식적으로 지원되지 않습니다.</aside>
    <p>오디오 자산 재생을 위해 스타일이 지정된 Brightcove Player가 표시됩니다. 재생을 클릭하면 컨트롤 막대 오른쪽에 다운로드 아이콘이 표시됩니다. 이 아이콘을 클릭하면 재생중인 오디오 자산이 브라우저를 통해 다운로드됩니다.</p>
    <p>오디오 자산 대신 비디오를 사용하는 매우 유사한 샘플이 있습니다. <a href="/code-samples/brightcove-player-sample-download-video-plugin.html"> Brightcove 플레이어 샘플 : 비디오 플러그인</a>문서를 다운로드하십시오.</p>
    <!-- UPDATE codepen here -->
    
    <p class="codepen" data-height="413" data-theme-id="34967" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="QodMJe" style="height: 413px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Download Audio Plugin"><span>펜보기<a href="https://codepen.io/team/rcrooks1969/pen/QodMJe/">오디오 플러그인 다운로드</a>게시자 : Brightcove Learning Services ( <a href="https://codepen.io/rcrooks1969">뿡 빵뀨</a> ) 의 위에<a href="https://codepen.io"> CodePen</a> .</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <br/>
    <aside class="bcls-aside bcls-aside--tip">브라우저 다운로드 동작: 브라우저가 파일 다운로드를 처리하는 방식이 변경되었습니다. Safari, Firefox 및 Chrome은 모두 다운로드 한 비디오를 새 창이나 탭에서 열어줍니다. 일반적으로 원하는 동작이 아닙니다. 이러한 이유로 이 샘플은 클라이언트측 JavaScript 도구를 사용하여 브라우저가 비디오를 올바르게 다운로드하도록 강요합니다. 도구에 대한 자세한 내용은 다음을 참조하십시오. <a href="https://www.npmjs.com/package/downloadjs"> https://www.npmjs.com/package/downloadjs</a> .</aside>
    
    <h3>소스 코드</h3>
          <p>보기<a href="https://github.com/BrightcoveLearning/18743-download-audio-plugin"> GitHub의 완벽한 솔루션</a> .</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">코드펜 사용하기</h2></summary>
      <p>위의 CodePen을 효과적으로 사용하기 위한 몇 가지 팁은 다음과 같습니다.</p>
      <ul>
        <li><strong translate="No">결과</strong>버튼을 클릭하여 플레이어의 실제 표시를 토글합니다.</li>
        <li><strong translate="No">HTML/CSS/JS</strong>버튼을 클릭하여 코드 유형 중 하나를 표시합니다.</li>
        <li>이 문서의 뒷부분에서 응용 프로그램에서 사용되는 로직, 흐름 및 스타일링은<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , 응용<a href="#Application_flow">프로그램 흐름</a>및<a href="#Application_styling">응용 프로그램 스타일링에서 설명합니다.</a>섹션. 이러한 섹션의 정보와 함께 수행하는 가장 좋은 방법은 다음과 같습니다.
          <ol>
            <li>CodePen에서 CODEPEN에 있는<strong translate="No">편집</strong>버튼을 클릭하고 하나의 브라우저/브라우저 탭에서 코드를 사용할 수 있도록 합니다.</li>
            <li>CodePen에서 표시할 코드를 조정합니다. CodePen 내에서 서로 다른 코드 섹션의 너비를 변경할 수 있습니다.</li>
            <li>보기<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , <a href="#Application_flow">신청 흐름</a>및/또는<a href="#Application_styling">애플리케이션 스타일링</a>다른 브라우저/브라우저 탭의 섹션. 이제 코드 설명을 따르고 동시에 코드를 볼 수 있습니다.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">개발 시퀀스</h2></summary> 
      <p>권장되는 개발 시퀀스는 다음과 같습니다.</p>
      <ol>
        <li>인페이지 임베드 플레이어 구현을 사용하여 플레이어, 플러그인 및 CSS의 기능을 테스트합니다 (CSS가 필요한 경우)</li>
        <li>로컬 테스트를 위해 플러그인의 JavaScript와 CSS를 별도의 파일에 넣습니다.</li>
        <li>오류가 발생하면 플러그인 코드와 CSS를 서버에 배포합니다.</li>
        <li>Studio를 사용하여 플레이어에 플러그인과 CSS를 추가합니다.</li>
        <li>iframe 구현이 더 적합하다고 판단되면 인페이지 임베드 플레이어 구현을 대체합니다 (다음 섹션에서 자세히 설명).</li>
      </ol>
      <p>이 단계에 대한 자세한 내용은<a href="/coding-topics/step-step-plugin-development.html">단계별 을 참조하십시오. 플러그인 개발</a>가이드.</p>
      <h3>iframe 또는 인페이지 임베드</h3>
      <p>브라이트코브 플레이어에 대한 향상된 기능을 개발할 때 코드가 iframe 또는 인페이지 임베드 구현에 가장 적합한지 결정해야 합니다. 모범 사례는 iframe 구현과 함께 사용할 플러그인을 빌드하는 것입니다. iframe 플레이어를 사용하면 다음과 같은 이점이 있습니다.</p>
      <ul>
        <li>기존 자바스크립트 및/또는 CSS와의 충돌 없음</li>
        <li>자동 반응성</li>
        <li>iframe은 소셜 미디어 앱에서 쉽게 사용할 수 있습니다 (또는 동영상이 다른 앱으로 “여행”해야 할 때마다)</li>
      </ul>
      <p>In-Page 임베드 플레이어를 통합하는 것은 더 복잡할 수 있지만, 해당 구현을 중심으로 코드를 계획할 때가 있습니다. 일반화하려면 이 방법은 포함 페이지가 플레이어와 통신해야 할 때 가장 좋습니다. 구체적으로 다음과 같은 몇 가지 예가 있습니다.</p>
      <ul>
        <li>포함 페이지의 코드는 플레이어 이벤트를 수신하고 행동해야 합니다.</li>
        <li>플레이어는 포함 페이지의 스타일을 사용합니다.</li>
        <li>iframe은 포함 페이지에서 리디렉션하는 것처럼 앱 로직이 실패합니다.</li>
      </ul>
      <p>최종 구현에서 iframe 코드를 사용하지 않더라도 JavaScript용 플러그인과 CSS용 별도의 파일과 함께 인페이지 포함 코드를 사용할 수 있습니다. 이렇게 하면 로직을 캡슐화하여 여러 플레이어에서 쉽게 사용할 수 있습니다.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">사용된 API/플러그인 리소스</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API 메서드</th>
          <th>API 이벤트</th>
          <th>API 속성</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on"><code translate="No">on()</code></a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadstart"><code translate="No">loadstart</code></a></td>
          <td><a href="/references/video-metadata-mediainfo.html"><code translate="No">player.mediainfo</code></a></td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/CustomControlSpacer.html"><code translate="No">player.controlBar.customControlSpacer</code></a></td>
        </tr>
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">플레이어/HTML 구성</h2>
    <p>이 섹션에서는 플레이어 생성 중에 필요한 특별한 구성에 대해 자세히 설명합니다. 또한 페이지 내 임베드 플레이어 구현 코드 외에 페이지에 추가해야 하는 다른 HTML 요소에 대해서도 설명합니다.</p>
    <h3>플레이어 구성</h3>
    <p>이 샘플에 대해 생성한 브라이트코브 플레이어에는 특별한 구성이 필요하지 않습니다.</p>
    <h3>기타 HTML</h3>
    <p>다른 HTML 요소는 페이지에 추가되지 않습니다.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">애플리케이션 흐름</h2>
    <p>이 응용 프로그램의 기본 로직은 다음과 같습니다.</p>
    <ul>
      <li>오디오 자산 이름을 가져오고 소스 배열에서 MP4 변환을 추출합니다.</li>
      <li>모든 변환을 반복하고 MP4 버전을 추출하십시오.</li>
      <li>가장 큰 속성부터 가장 작은<code translate="No">size</code>속성까지 MP4 배열을 정렬합니다.</li>
      <li>변수에 가장 큰 변환을 할당합니다.</li>
      <li>HTML 내에서 변환을 다운로드하는 클릭 가능한 이미지 만들기<code translate="No">div</code>요소.</li>
      <li>다운로드 자산 이미지 요소를 DOM에 배치하십시오.</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>오디오 자산 이름을 가져오고 소스 배열에서 MP4 변환을 추출합니다.</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Get video name and the MP4 renditions ###</code></pre>
    <p>먼저 코드에 나중에 동적으로 작성된 HTML 앵커 태그에 사용할 수 있도록<code translate="No">videoName</code>변수에 비디오 이름&nbsp; (공백이 제거됨) 이 할당됩니다. 다음으로<code translate="No">renditionsAra</code>변수에 비디오에 대해 가능한 모든 변환이 할당됩니다.</p>
    <p>물론이 플러그인이 제대로 작동하려면 소스에 MP4 변환이 하나 이상 있어야합니다.</p>
    <!-- UPDATE task 2 -->
    
    <h3>모든 비디오 변환을 반복하고 MP4 버전 추출</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Loop over videos and extract only MP4 versions ###</code></pre>
    <p>배열을 반복하고 할당합니다. <code translate="No">mp4Ara</code>가변 변환<code translate="No">container</code> ~이다<strong> MP4</strong> , 그리고 변환에는<code translate="No">src</code>재산. MP4 변환은<code translate="No">sources</code>배열에서 두 번, 한 번은<code translate="No">src</code>속성과 함께, 한 번<code translate="No">stream_name</code>속성. 첫 번째는 프로그레시브 다운로드용이고 두 번째 다운로드는 스트리밍입니다.</p>
    <p>다음 스크린샷은 콘솔에서 모든 변환을 표시한 다음 필터링된 변환이 MP4 변환에 표시됩니다.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="All renditions" src="/assets/images/code-samples/brightcove-player-sample-download-audio-plugin/console-all-renditions.png" />
      <figcaption class="bcls-caption--image">모든 변환</figcaption>
    </figure>
    <figure class="bcls-figure"><img class="bcls-image" alt="Only MP4 renditions after filtering" src="/assets/images/code-samples/brightcove-player-sample-download-audio-plugin/console-mp4-renditions-only.png" />
      <figcaption class="bcls-caption--image">필터링 후 MP4 변환만</figcaption>
    </figure>
    <!-- UPDATE task 3 -->
    
    <h3>가장 큰 속성부터 가장 작은<code translate="No">size</code>속성에서 MP4 배열을 정렬합니다.</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Sort the renditions from highest to lowest on size ###</code></pre>
    <p><code translate="No">mp4Ara</code>사용 자바스크립트<code translate="No">sort()</code>메서드 정렬</p>
    <!-- UPDATE task 3 -->
    
    <h3>변수에 가장 큰 비디오 할당</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Extract the highest rendition ###</code></pre>
    <p>정렬된 MP4 변환 배열에서<code translate="No">highestQuality</code>변수에 0번째 인덱스 값을 할당합니다.</p>
    <!-- UPDATE task 3 -->
    
    <h3>HTML 요소 안에 클릭 가능한 이미지가 포함된<code translate="No">div</code>요소 만들기</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Build the download image element ###</code></pre>
    <p>JavaScript 코드<code translate="No">div</code> HTML의 맨 위에는<code translate="No">img</code>요소가 생성되어 변수에 저장됩니다. 그런 다음 이러한 요소는 다운로드 버튼으로 작동하는 HTML 요소를 동적으로 작성하도록 조작됩니다. 동적으로 생성된 요소가 어떻게 나타나는지에 대한 예는 다음과 같습니다.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="dynamically built download element" src="/assets/images/code-samples/brightcove-player-sample-download-audio-plugin/download-element.png" /></figure>
    <!-- UPDATE task 3 -->
    
    <h3>DOM에 다운로드 버튼 요소 배치</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// ### Place the download button ###</code></pre>
    <p>이 경우 다운로드 버튼이 제어바의 스페이서에 배치됩니다. 먼저 스페이서 요소에 대한 참조를 얻은 다음 스페이서에 새 요소를 배치하도록 설정된 속성이 정의되고 마지막으로 새 요소가 스페이서에 배치됩니다.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">애플리케이션 스타일링</h2>
    <p>CSS는 다음과 같은 두 가지 작업을 수행합니다.</p>
    <ul>
      <li>"오디오 전용"모양으로 플레이어의 스타일을 지정합니다.</li>
      <li>컨트롤 막대에 배치 할 다운로드 버튼의 크기와 위치를 지정합니다.</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">플러그인 코드</h2>
    <p>일반적으로 JavaScript를 브라이트코브 플레이어 플러그인으로 변환할 때는 명목상 변경이 한 가지 필수 변경 사항은<code translate="No">ready()</code>메서드의 표준 사용을 플러그인을 정의하는 코드로 대체하는 것입니다.</p>
    <p>다음은 플레이어와 함께 작동하는 JavaScript 코드에 매우 일반적으로 사용되는 시작입니다.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>표준 구문을 사용하여 브라이트코브 플레이어 플러그인을 시작하도록 첫 번째 줄을 변경합니다.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <aside class="bcls-aside bcls-aside--tip">플러그인이 iOS에서 작동하지 않으므로 플러그인이 iOS에서 다운로드하지 못하도록 플러그인에 이 코드를 추가할 수 있습니다.
      <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('downloadVideo', function() {
  if (videojs.browser.IS_IOS) {
    return;
  }

  // rest of the plugin...
});</code></pre>
    </aside>
    <p>앞서 언급했듯이이 문서의 해당 GitHub 저장소에서 플러그인의 JavaScript 코드를 볼 수 있습니다. <a href="https://github.com/BrightcoveLearning/18743-download-audio-plugin/blob/master/plugin/download-audio.js"> download-audio.js</a> .</p>
    <h3>플레이어와 함께 플러그인 사용하기</h3>
    <p>플러그인의 CSS 및 JavaScript 파일을 인터넷에 액세스할 수 있는 위치에 저장하면 플레이어와 함께 플러그인을 사용할 수 있습니다. 스튜디오의<strong> PLAYERS</strong>모듈에서 플레이어를 선택한 다음<strong>플러그인</strong>섹션에서 CSS 및 JavaScript 파일에 URL을 추가하고<strong>이름을 추가 할 수 있습니다.</strong>및<strong>옵션</strong> (옵션이 필요한 경우).</p>
    <aside class="bcls-aside bcls-aside--tip">Studio를 사용하여 플레이어에게 플러그인을 할당하는 방법에 대한 자세한 내용은 플레이어 플러그인<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">구성</a>문서를 참조하십시오.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Version_5_backwards_compatibility">버전 5 이전 버전과의 호환성</h2>
    <p>플러그인이 버전 5와 6 모두에서 작동하도록 하려면 JavaScript를 몇 가지 변경해야 합니다. 변경 사항이 나열되고 JavaScript의 스켈레톤이 표시됩니다.</p>
    <ol>
      <li>JavaScript 파일의 맨 위에 다음 변수 선언을 추가합니다. 변수는 버전 5와 버전 6 모두에 플러그인을 등록하는 방법을 정의합니다.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">var registerPlugin = videojs.registerPlugin || videojs.plugin;</code></pre>
      </li>
      <li>JavaScript의 이전 첫 줄을 다음과 같이 변경합니다.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {</code></pre>
        에
        <pre class="line-numbers">
<code class="language-javascript" translate="No">registerPlugin("downloadAudio", function() {</code></pre>
      </li>
      <li>현재 정의된 플러그인을 호출하는 모든 기존 코드 아래에 함수를 만듭니다.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var player = this;
  player.downloadAudio();
});</code></pre>
      </li>
      <li>코드 구조가 다음과 같이 나타나는지 확인합니다.
        <pre class="line-numbers">
<code class="language-javascript" translate="No">var registerPlugin = videojs.registerPlugin || videojs.plugin;

registerPlugin("downloadAudio", function() {
  // Create variables and new div, anchor and image for download icon
  var myPlayer = this,
    videoName,
    totalRenditions,
    mp4Ara = [],
    highestQuality,
    spacer,
    newElement = document.createElement("div"),
    newImage = document.createElement("img");

    // REST OF JavaScript
    ...
});

videojs.getPlayer('myPlayerID').ready(function() {
  var player = this;
  player.downloadAudio();
});</code></pre>
      </li>
    </ol>
  </section>
</article>
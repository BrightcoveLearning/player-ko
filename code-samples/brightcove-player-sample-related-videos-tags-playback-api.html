---
title: '브라이트코브 플레이어 샘플: 태그를 통한 관련 동영상(재생 API)'
description: 이 항목에서는 현재 비디오와 동일한 태그가 있는 비디오를 검색하고 오버레이에 표시하는 방법에 대해 알아봅니다. 이 샘플은 Playback API를 사용하여 비디오를 검색합니다.
parent: Code Samples
---
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">소개</h2>
    <p>이 항목에서는 Playback API에서 데이터를 검색하고 Brightcove Player 용 오버레이에 표시하는 방법을 알아 봅니다. 이 오버레이는 재생이 일시 중지되거나 종료될 때 계정에 관련 비디오 세트 (태그/메타데이터를 통해) 를 표시합니다. 또한 참조<a href="/code-samples/brightcove-player-sample-related-videos-tags-cms-api.html"> CMS API 버전</a>이 샘플의.</p>
    <aside class="bcls-aside bcls-aside--information">이 문서의 콘텐츠는 Video Cloud에만 적용됩니다.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="limitations">제한 사항</h2>
    <aside class="bcls-aside bcls-aside--information">이 샘플 및 관련 코드는 프로덕션 개발을 위한 가이드로 제공됩니다. 이 코드는 프로덕션 용도로 인증되지 않았으며 공식적으로 지원되지 않습니다.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Player_example">플레이어 예제</h2>
    <!-- UPDATE description -->

    <p>이 예제에서는 재생이 일시 중지되거나 종료된 경우 관련 비디오 축소판의 대화형 오버레이를 표시합니다. 아래 비디오 재생을 시작합니다. 재생을 일시 중지하거나 비디오가 끝나면 관련 비디오의 오버레이가 나타납니다.</p>
    <!-- UPDATE codepen here -->

    <p data-height="475" data-theme-id="34967" data-slug-hash="POWyeR" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="18485-related-videos-tags-playback-api" class="codepen">펜보기<a href="https://codepen.io/team/bcls1969/pen/POWyeR/"> 18485 관련 동영상 태그 재생 API</a>게시자 : Brightcove Learning Services ( <a href="https://codepen.io/team/rcrooks1969">쫑끼리</a> ) 의 위에<a href="https://codepen.io"> CodePen</a> .</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->

    <h3>소스 코드</h3>
          <p>보기<a href="https://github.com/BrightcoveLearning/18485-related-videos-tags-playback-api"> GitHub의 완벽한 솔루션</a> .</p>
  </section>
  <section class="bcls-section">
    <h2 id="Overview">개요</h2>
    <p>이 샘플은 Playback API를 호출하고 동일한 계정에서 플레이어에로드 된 동영상과 동일한 태그 값을 가진 관련 동영상을 검색합니다. 이러한 관련 비디오는 비디오 재생이 일시 중지되거나 종료 될 때 오버레이에 대화 형 미리보기 이미지로 표시됩니다. 오버레이에서 썸네일을 선택하면 플레이어에 연결된 비디오가 로드되고 재생이 시작됩니다.</p>
    <aside class="bcls-aside bcls-aside--information">Playback API를 사용한 검색 요청에는 다음과 같은 정책 키가 필요합니다. <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html#Search_videos">검색 가능</a> .</aside> <aside class="bcls-aside bcls-aside--warning">이 샘플은 클라이언트 측에서 검색 가능 정책 키를 노출한다는 점에 유의하십시오. 이렇게하면 다른 사용자가 계정의 동영상 및 관련 메타 데이터를 읽을 수 있습니다. 보안이 우려되는 경우 사용을 고려하십시오. <span translate="No"> CMS API</span>대신에. 자세한 내용은<a href="/code-samples/brightcove-player-sample-related-videos-tags-cms-api.html"> Brightcove 플레이어 샘플 : 태그를 통한 관련 동영상(메타데이터)</a>문서.</aside>
    <p>Playback API를 처음 사용하는 경우 다음 문서를 검토하여 시작하십시오.</p>
    <ul>
      <li><a href="https://apis.support.brightcove.com/playback/">재생 API 개요</a></li>
      <li><a href="https://apis.support.brightcove.com/cms/searching/cms-and-playback-apis-video-search-v2.html">Playback API로 비디오 검색</a></li>
    </ul>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">코드펜 사용하기</h2></summary>
      <p>위의 CodePen을 효과적으로 사용하기 위한 몇 가지 팁은 다음과 같습니다.</p>
      <ul>
        <li><strong translate="No">결과</strong>버튼을 클릭하여 플레이어의 실제 표시를 토글합니다.</li>
        <li><strong translate="No">HTML/CSS/JS</strong>버튼을 클릭하여 코드 유형 중 하나를 표시합니다.</li>
        <li>이 문서의 뒷부분에서 응용 프로그램에서 사용되는 로직, 흐름 및 스타일링은<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , 응용<a href="#Application_flow">프로그램 흐름</a>및<a href="#Application_styling">응용 프로그램 스타일링에서 설명합니다.</a>섹션. 이러한 섹션의 정보와 함께 수행하는 가장 좋은 방법은 다음과 같습니다.
          <ol>
            <li>CodePen에서 CODEPEN에 있는<strong translate="No">편집</strong>버튼을 클릭하고 하나의 브라우저/브라우저 탭에서 코드를 사용할 수 있도록 합니다.</li>
            <li>CodePen에서 표시할 코드를 조정합니다. CodePen 내에서 서로 다른 코드 섹션의 너비를 변경할 수 있습니다.</li>
            <li>보기<a href="#Player/HTML_configuration">플레이어/HTML 구성</a> , <a href="#Application_flow">신청 흐름</a>및/또는<a href="#Application_styling">애플리케이션 스타일링</a>다른 브라우저/브라우저 탭의 섹션. 이제 코드 설명을 따르고 동시에 코드를 볼 수 있습니다.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">개발 시퀀스</h2></summary>
      <p>권장되는 개발 시퀀스는 다음과 같습니다.</p>
      <ol>
        <li>인페이지 임베드 플레이어 구현을 사용하여 플레이어, 플러그인 및 CSS의 기능을 테스트합니다 (CSS가 필요한 경우)</li>
        <li>로컬 테스트를 위해 플러그인의 JavaScript와 CSS를 별도의 파일에 넣습니다.</li>
        <li>오류가 발생하면 플러그인 코드와 CSS를 서버에 배포합니다.</li>
        <li>Studio를 사용하여 플레이어에 플러그인과 CSS를 추가합니다.</li>
        <li>iframe 구현이 더 적합하다고 판단되면 인페이지 임베드 플레이어 구현을 대체합니다 (다음 섹션에서 자세히 설명).</li>
      </ol>
      <p>이 단계에 대한 자세한 내용은<a href="/coding-topics/step-step-plugin-development.html">단계별 을 참조하십시오. 플러그인 개발</a>가이드.</p>
      <h3>iframe 또는 인페이지 임베드</h3>
      <p>브라이트코브 플레이어에 대한 향상된 기능을 개발할 때 코드가 iframe 또는 인페이지 임베드 구현에 가장 적합한지 결정해야 합니다. 모범 사례는 iframe 구현과 함께 사용할 플러그인을 빌드하는 것입니다. iframe 플레이어를 사용하면 다음과 같은 이점이 있습니다.</p>
      <ul>
        <li>기존 자바스크립트 및/또는 CSS와의 충돌 없음</li>
        <li>자동 반응성</li>
        <li>iframe은 소셜 미디어 앱에서 쉽게 사용할 수 있습니다 (또는 동영상이 다른 앱으로 “여행”해야 할 때마다)</li>
      </ul>
      <p>In-Page 임베드 플레이어를 통합하는 것은 더 복잡할 수 있지만, 해당 구현을 중심으로 코드를 계획할 때가 있습니다. 일반화하려면 이 방법은 포함 페이지가 플레이어와 통신해야 할 때 가장 좋습니다. 구체적으로 다음과 같은 몇 가지 예가 있습니다.</p>
      <ul>
        <li>포함 페이지의 코드는 플레이어 이벤트를 수신하고 행동해야 합니다.</li>
        <li>플레이어는 포함 페이지의 스타일을 사용합니다.</li>
        <li>iframe은 포함 페이지에서 리디렉션하는 것처럼 앱 로직이 실패합니다.</li>
      </ul>
      <p>최종 구현에서 iframe 코드를 사용하지 않더라도 JavaScript용 플러그인과 CSS용 별도의 파일과 함께 인페이지 포함 코드를 사용할 수 있습니다. 이렇게 하면 로직을 캡슐화하여 여러 플레이어에서 쉽게 사용할 수 있습니다.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">사용된 API/플러그인 리소스</h2>
    <!-- UPDATE table, remove unneeded columns -->

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API 메서드</th>
          <th>API 이벤트</th>
          <th>API 속성</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play">플레이 ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadedmetadata">로드된 메타데이터</a></td>
          <td><a href="/references/video-metadata-mediainfo.html">mediainfo.account_id</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#load">카탈로그.load ()</a></td>
          <td>&nbsp;</td>
          <td><a href="/references/video-metadata-mediainfo.html">mediainfo.tags [0]</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">디렉토리.getVideo ()</a></td>
          <td>&nbsp;</td>
          <td><a href="/references/video-metadata-mediainfo.html">미디아인포.이름</a></td>
        </tr>
      </tbody>
    </table>
  </section>
  <!-- UPDATE player and HTML configuration -->

  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">플레이어/HTML 구성</h2>
    <p><a href="/plugins/display-overlay-plugin.html">오버레이</a>플러그인은 이 예제의 JavaScript 코드에서 정의되고 초기화됩니다. 여기서 수행되는 이유는 오버레이를 초기화하기 전에 관련 비디오 메타데이터를 가져와야 하기 때문입니다.</p>
    <p>플레이어 구성에 오버레이 플러그인을 포함하려면 Video Cloud Studio의 플레이어 모듈에 오버레이 자바스크립트 및 CSS 파일을 추가할 수 있습니다. <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html"><strong>플러그인</strong>섹션에서</a>코드 내에서 플러그인을 초기화할 수 있도록<strong> Name</strong>속성을 비워 둡니다.</p>
    <h3>기타 HTML</h3>
    <p>추가하는 것을 잊지 마십시오<code translate="No">id</code>속성<code translate="No">video</code>플레이어 임베드 코드의 태그입니다.</p>
    <pre>
<code class="language-html" translate="No">&lt;video-js <span class="bcls-highlight">id="myPlayerID"</span>
		...</code></pre>
  </section>
  <!-- UPDATE application flow -->

  <section class="bcls-section">
    <h2 id="Application_flow">애플리케이션 흐름</h2>
    <p>이 응용 프로그램의 기본 로직은 다음과 같습니다.</p>
    <ul>
      <li>기본 재생 API URL과 정책 키에 대한 값을 정의하는 변수를 만듭니다.</li>
      <li>동영상 로드가 시작될 때까지 기다렸다가 비디오 메타데이터를 검색합니다.</li>
      <li>Playback API에 대한 요청을 설정합니다.</li>
      <li>Playback API에 요청하여 처음 9 개의 관련 동영상을 가져옵니다.</li>
      <li>오버레이 콘텐츠의 서식을 지정하여 각 관련 비디오의 축소판을 표시합니다.</li>
      <li>사용자가 관련 비디오 축소판 중 하나를 선택하면 플레이어에 로드하고 재생을 시작합니다.</li>
    </ul>
    <!-- UPDATE task 1 -->

    <h3>값 정의</h3>
    <p>기본 재생 API URL과 정책 키에 대한 값을 정의하는 변수를 만듭니다.</p>
    <!-- UPDATE task 2 -->

    <h3>로드된 메타데이터 대기</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// +++ Wait for loadedmetadata +++</code></pre>
    <p><code translate="No">loadedmetadata</code>이벤트를 수신하여 비디오 로딩이 시작될 때까지 기다립니다. 이렇게 하면 계정 ID, 이름 및 태그 값과 같은 비디오 메타데이터를<code translate="No">mediainfo</code>객체에서 사용할 수 있습니다.</p>
    <!-- UPDATE task 3 -->

    <h3>API 요청 설정</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// +++ Setup the API request +++</code></pre>
    <p>현재 플레이어에로드 된 동영상의 정보를 사용하여 동일한 계정의 동영상에 대한 Playback API 검색 요청을 만듭니다. 검색은 현재 비디오의 첫 번째 태그와 동일한 값을 가진 비디오를 찾습니다. 현재 동영상과 이름이 같은 동영상은 제외되며 반환되는 동영상 수는 9개로 제한됩니다. 이것이 오버레이 레이아웃에 몇 개나 맞을 것입니다.</p>
    <!-- UPDATE task 4 -->

    <h3>Playback API 요청하기</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// +++ Make the Playback API request +++</code></pre>
    <p>Playback API RESTful 웹 서비스에 HTTP GET 요청을 보냅니다. 반환된 데이터를 JSON 형식으로 구문 분석합니다. 오류가 발생하면 오류 메시지를 표시합니다.</p>
    <!-- UPDATE task 5 -->

    <h3>오버레이 콘텐츠 서식 지정</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// +++ Format the overlay content +++</code></pre>
    <p>오버레이 컨텐츠의 서식을 지정하려면 다음을 수행합니다.</p>
    <ul>
      <li>Playback API에서 반환 된 각 관련 동영상의 ID, 이름 및 미리보기 이미지를 추출하여 배열에 저장합니다.</li>
      <li>관련 비디오 배열을 반복하여 각 관련 비디오에 대한<code translate="No">&lt;div&gt;</code>요소를 포함하는 비디오 목록<code translate="No">&lt;div&gt;</code>래퍼를 만듭니다. 오버레이 콘텐츠가 됩니다.</li>
      <li>새로 만든 관련 비디오 콘텐츠로 오버레이 플러그인을 초기화합니다. 오버레이가 표시되면 관련 비디오 축소판 격자가 표시됩니다. 비디오 재생이 일시 중지되거나 종료되면 오버레이를 표시합니다. 기본 비디오가 재생될 때 오버레이를 숨깁니다.</li>
    </ul>
    <!-- UPDATE task 4 -->

    <h3>관련 비디오 로드 및 재생</h3>
    <p>레이블이 지정된 코드를 찾습니다.</p>
    <pre>
<code class="language-javascript" translate="No">// +++ Load and play related video +++</code></pre>
    <p>사용자가 선택한 관련 비디오의 재생을 로드하고 시작하는 함수를 만듭니다.</p>
  </section>
  <!-- UPDATE CSS description -->

  <section class="bcls-section">
    <h2 id="Application_styling">애플리케이션 스타일링</h2>
    <p>CSS는 오버레이에 대한 관련 비디오 축소판 격자의 스타일을 지정합니다.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">플러그인 코드</h2>
    <p>일반적으로 JavaScript를 브라이트코브 플레이어 플러그인으로 변환할 때는 명목상 변경이 한 가지 필수 변경 사항은<code translate="No">ready()</code>메서드의 표준 사용을 플러그인을 정의하는 코드로 대체하는 것입니다.</p>
    <p>다음은 플레이어와 함께 작동하는 JavaScript 코드에 매우 일반적으로 사용되는 시작입니다.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
			var myPlayer = this;
			...
		});</code></pre>
    <p>표준 구문을 사용하여 브라이트코브 플레이어 플러그인을 시작하도록 첫 번째 줄을 변경합니다.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
			var myPlayer = this;
			...
		});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->

    <p>앞서 언급했듯이이 문서의 해당 GitHub 저장소에서 플러그인의 JavaScript 코드를 볼 수 있습니다. <a href="https://github.com/BrightcoveLearning/18485-related-videos-tags-playback-api/blob/master/plugin/related-videos.js"> related-videos.js</a> .</p>
    <h3>플레이어와 함께 플러그인 사용하기</h3>
    <p>플러그인의 CSS 및 JavaScript 파일을 인터넷에 액세스할 수 있는 위치에 저장하면 플레이어와 함께 플러그인을 사용할 수 있습니다. 스튜디오의<strong> PLAYERS</strong>모듈에서 플레이어를 선택한 다음<strong>플러그인</strong>섹션에서 CSS 및 JavaScript 파일에 URL을 추가하고<strong>이름을 추가 할 수 있습니다.</strong>및<strong>옵션</strong> (옵션이 필요한 경우).</p>
    <aside class="bcls-aside bcls-aside--tip">Studio를 사용하여 플레이어에게 플러그인을 할당하는 방법에 대한 자세한 내용은 플레이어 플러그인<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">구성</a>문서를 참조하십시오.</aside>
  </section>
</article>